<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéì Wexford Quiz Hub ‚Ä¢ Complete Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF6B00;
            --secondary: #003366;
            --accent: #10b981;
            --light: #f8fafc;
            --gray: #e2e8f0;
            --dark: #1e293b;
            --danger: #ef4444;
            --warning: #f59e0b;
            --success: #10b981;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0a1929 0%, #001e3c 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* CUSTOM SCROLLBAR */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #e05e00;
        }
        
        /* CONTAINER */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* HEADER */
        .main-header {
            text-align: center;
            padding: 2rem 0;
            background: linear-gradient(135deg, rgba(255, 107, 0, 0.1), rgba(0, 51, 102, 0.1));
            border-radius: 20px;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .main-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path fill="rgba(255,255,255,0.02)" d="M0,0 L100,0 L100,100 Z"/></svg>');
            background-size: cover;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 1rem;
        }
        
        .logo-icon {
            font-size: 3rem;
            color: var(--primary);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .logo h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 3rem;
            background: linear-gradient(135deg, var(--primary), #ff9e4d);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(255, 107, 0, 0.3);
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1.5rem;
        }
        
        /* MAIN CONTENT GRID */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            min-height: 700px;
        }
        
        /* STUDENT PANEL */
        .student-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }
        
        .panel-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .panel-title i {
            color: var(--primary);
        }
        
        .input-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
        }
        
        input, select {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.2);
            background: rgba(255, 255, 255, 0.12);
        }
        
        input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* CLASS SELECTION */
        .class-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 2rem;
        }
        
        .class-btn {
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .class-btn:hover {
            background: rgba(255, 107, 0, 0.2);
            border-color: var(--primary);
            transform: translateY(-3px);
        }
        
        .class-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(255, 107, 0, 0.3);
        }
        
        /* ACTION BUTTONS */
        .action-btns {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 2rem;
        }
        
        .btn {
            padding: 16px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1.1rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: #e05e00;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 107, 0, 0.3);
        }
        
        .btn-secondary {
            background: var(--secondary);
            color: white;
        }
        
        .btn-secondary:hover {
            background: #00264d;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 51, 102, 0.3);
        }
        
        .btn-outline {
            background: transparent;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-outline:hover {
            border-color: var(--primary);
            background: rgba(255, 107, 0, 0.1);
        }
        
        /* QUIZ AREA */
        .quiz-area {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            display: none;
        }
        
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .quiz-info {
            display: flex;
            gap: 20px;
        }
        
        .info-box {
            background: rgba(255, 255, 255, 0.08);
            padding: 10px 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .info-box i {
            color: var(--primary);
        }
        
        /* PROGRESS BAR */
        .progress-container {
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 8px;
            background: linear-gradient(90deg, var(--primary), #ff9e4d);
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* QUESTION CARD */
        .question-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }
        
        /* OPTIONS */
        .options-grid {
            display: grid;
            gap: 12px;
        }
        
        .option-btn {
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 18px;
            color: white;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .option-btn:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateX(5px);
        }
        
        .option-btn.selected {
            background: rgba(255, 107, 0, 0.2);
            border-color: var(--primary);
        }
        
        .option-btn.correct {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--success);
        }
        
        .option-btn.wrong {
            background: rgba(239, 68, 68, 0.2);
            border-color: var(--danger);
        }
        
        .option-letter {
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }
        
        .option-btn.selected .option-letter {
            background: var(--primary);
        }
        
        .option-btn.correct .option-letter {
            background: var(--success);
        }
        
        .option-btn.wrong .option-letter {
            background: var(--danger);
        }
        
        /* FEEDBACK */
        .feedback-box {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            display: none;
        }
        
        .feedback-box.correct {
            border-left: 4px solid var(--success);
        }
        
        .feedback-box.wrong {
            border-left: 4px solid var(--danger);
        }
        
        .feedback-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 0.5rem;
        }
        
        .feedback-title i {
            font-size: 1.2rem;
        }
        
        .feedback-title.correct i {
            color: var(--success);
        }
        
        .feedback-title.wrong i {
            color: var(--danger);
        }
        
        /* NAVIGATION */
        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        /* RESULT SCREEN */
        .result-screen {
            text-align: center;
            padding: 3rem;
            display: none;
        }
        
        .result-icon {
            font-size: 5rem;
            color: var(--primary);
            margin-bottom: 1rem;
            animation: bounce 1s;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .result-score {
            font-size: 4rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), #ff9e4d);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 1rem 0;
        }
        
        .result-details {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }
        
        .detail-box {
            text-align: center;
        }
        
        .detail-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .detail-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* ADMIN PANEL */
        .admin-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            display: none;
        }
        
        /* LEADERBOARD */
        .leaderboard {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            margin-top: 2rem;
            display: none;
        }
        
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        .leaderboard-table th {
            background: rgba(255, 107, 0, 0.2);
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        .leaderboard-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .leaderboard-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.03);
        }
        
        .rank-1 { color: #ffd700; font-weight: 700; }
        .rank-2 { color: #c0c0c0; font-weight: 600; }
        .rank-3 { color: #cd7f32; font-weight: 600; }
        
        /* SUBJECT SELECTION */
        .subject-selection {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 2rem;
        }
        
        .subject-btn {
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .subject-btn:hover {
            background: rgba(255, 107, 0, 0.2);
            border-color: var(--primary);
            transform: translateY(-3px);
        }
        
        .subject-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(255, 107, 0, 0.3);
        }
        
        .subject-icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }
        
        /* TIMER */
        .timer {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .timer.warning {
            color: var(--warning);
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* RESPONSIVE */
        @media (max-width: 992px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .subject-selection {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .result-details {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 576px) {
            .class-grid, .subject-selection {
                grid-template-columns: 1fr;
            }
            
            .quiz-info {
                flex-direction: column;
                gap: 10px;
            }
            
            .logo h1 {
                font-size: 2rem;
            }
            
            .result-score {
                font-size: 3rem;
            }
        }
        
        /* ANIMATIONS */
        .pulse {
            animation: pulse 2s infinite;
        }
        
        .shake {
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        /* NOTIFICATION */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification.error {
            background: var(--danger);
        }
        
        /* LOADING */
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem;
        }
        
        .loader {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* MODAL */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }
        
        .modal-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- MAIN HEADER -->
        <header class="main-header">
            <div class="logo">
                <div class="logo-icon">üéì</div>
                <h1>Wexford Quiz Hub</h1>
            </div>
            <p class="tagline">Comprehensive GES-Aligned Questions for Basic 4-6 & JHS 1-3</p>
            <div style="display: flex; gap: 10px; justify-content: center;">
                <span class="info-box"><i class="fas fa-book"></i> 300+ Questions</span>
                <span class="info-box"><i class="fas fa-graduation-cap"></i> 6 Grades</span>
                <span class="info-box"><i class="fas fa-brain"></i> 3 Subjects</span>
            </div>
        </header>
        
        <!-- MAIN CONTENT -->
        <div class="main-grid">
            <!-- STUDENT PANEL -->
            <div class="student-panel" id="studentPanel">
                <h2 class="panel-title"><i class="fas fa-user-graduate"></i> Student Portal</h2>
                
                <div class="input-group">
                    <label for="studentName"><i class="fas fa-user"></i> Full Name</label>
                    <input type="text" id="studentName" placeholder="Enter your full name">
                </div>
                
                <div class="input-group">
                    <label for="studentClass"><i class="fas fa-school"></i> Select Your Class</label>
                    <div class="class-grid">
                        <button class="class-btn" onclick="selectClass('Basic 4')">Basic 4</button>
                        <button class="class-btn" onclick="selectClass('Basic 5')">Basic 5</button>
                        <button class="class-btn" onclick="selectClass('Basic 6')">Basic 6</button>
                        <button class="class-btn" onclick="selectClass('JHS 1')">JHS 1</button>
                        <button class="class-btn" onclick="selectClass('JHS 2')">JHS 2</button>
                        <button class="class-btn" onclick="selectClass('JHS 3')">JHS 3</button>
                    </div>
                </div>
                
                <div class="input-group" id="subjectSelection" style="display: none;">
                    <label><i class="fas fa-book-open"></i> Select Subject</label>
                    <div class="subject-selection">
                        <button class="subject-btn" onclick="selectSubject('Mathematics')">
                            <i class="fas fa-calculator subject-icon"></i>
                            <span>Mathematics</span>
                        </button>
                        <button class="subject-btn" onclick="selectSubject('English')">
                            <i class="fas fa-language subject-icon"></i>
                            <span>English</span>
                        </button>
                        <button class="subject-btn" onclick="selectSubject('Science')">
                            <i class="fas fa-flask subject-icon"></i>
                            <span>Science</span>
                        </button>
                    </div>
                </div>
                
                <div class="action-btns">
                    <button class="btn btn-primary" onclick="startQuiz()" id="startBtn">
                        <i class="fas fa-play"></i> Start Quiz
                    </button>
                    <button class="btn btn-secondary" onclick="showLeaderboard()">
                        <i class="fas fa-trophy"></i> View Leaderboard
                    </button>
                    <button class="btn btn-outline" onclick="showAdminPanel()">
                        <i class="fas fa-cog"></i> Admin Panel
                    </button>
                </div>
                
                <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.1);">
                    <h3 style="margin-bottom: 1rem; font-size: 1.2rem;"><i class="fas fa-info-circle"></i> Quick Stats</h3>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div class="info-box">
                            <i class="fas fa-users"></i>
                            <span>Students: <span id="totalStudents">0</span></span>
                        </div>
                        <div class="info-box">
                            <i class="fas fa-check-circle"></i>
                            <span>Quizzes Taken: <span id="totalQuizzes">0</span></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- QUIZ AREA -->
            <div class="quiz-area" id="quizArea">
                <div class="quiz-header">
                    <div>
                        <h2 id="quizTitle">Quiz Title</h2>
                        <p id="quizSubtitle" style="opacity: 0.8;">Subject ‚Ä¢ Grade ‚Ä¢ Questions</p>
                    </div>
                    <div class="timer" id="timer">
                        <i class="fas fa-clock"></i>
                        <span id="timeLeft">30</span>s
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                    <div class="progress-text">
                        <span>Question <span id="currentQuestion">1</span> of <span id="totalQuestions">10</span></span>
                        <span>Score: <span id="currentScore">0</span></span>
                    </div>
                </div>
                
                <div id="questionContainer">
                    <!-- Question will be loaded here -->
                </div>
                
                <div class="quiz-navigation">
                    <button class="btn btn-outline" onclick="previousQuestion()" id="prevBtn">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- RESULT SCREEN -->
            <div class="quiz-area result-screen" id="resultScreen">
                <div class="result-icon">üèÜ</div>
                <h2>Quiz Complete!</h2>
                <p>Congratulations on completing the quiz</p>
                
                <div class="result-score" id="finalScore">0/10</div>
                
                <div class="result-details">
                    <div class="detail-box">
                        <div class="detail-value" id="correctAnswers">0</div>
                        <div class="detail-label">Correct Answers</div>
                    </div>
                    <div class="detail-box">
                        <div class="detail-value" id="percentageScore">0%</div>
                        <div class="detail-label">Percentage</div>
                    </div>
                    <div class="detail-box">
                        <div class="detail-value" id="timeTaken">0s</div>
                        <div class="detail-label">Time Taken</div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button class="btn btn-primary" onclick="restartQuiz()">
                        <i class="fas fa-redo"></i> Try Again
                    </button>
                    <button class="btn btn-secondary" onclick="goHome()">
                        <i class="fas fa-home"></i> Back Home
                    </button>
                    <button class="btn btn-outline" onclick="shareResult()">
                        <i class="fas fa-share"></i> Share Result
                    </button>
                </div>
            </div>
            
            <!-- ADMIN PANEL -->
            <div class="admin-panel" id="adminPanel">
                <h2 class="panel-title"><i class="fas fa-cog"></i> Admin Control Panel</h2>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 2rem;">
                    <button class="btn btn-primary" onclick="addQuestions()">
                        <i class="fas fa-plus"></i> Add Questions
                    </button>
                    <button class="btn btn-secondary" onclick="manageStudents()">
                        <i class="fas fa-users"></i> Manage Students
                    </button>
                    <button class="btn btn-outline" onclick="exportData()">
                        <i class="fas fa-download"></i> Export Data
                    </button>
                    <button class="btn btn-outline" onclick="resetSystem()">
                        <i class="fas fa-trash"></i> Reset System
                    </button>
                </div>
                
                <div style="background: rgba(255,255,255,0.08); padding: 1.5rem; border-radius: 12px;">
                    <h3 style="margin-bottom: 1rem;"><i class="fas fa-chart-bar"></i> System Statistics</h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                        <div class="info-box">
                            <i class="fas fa-database"></i>
                            <span>Questions: <span id="totalQuestionsDB">0</span></span>
                        </div>
                        <div class="info-box">
                            <i class="fas fa-user-graduate"></i>
                            <span>Students: <span id="totalStudentsDB">0</span></span>
                        </div>
                        <div class="info-box">
                            <i class="fas fa-history"></i>
                            <span>Quizzes: <span id="totalQuizzesDB">0</span></span>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 2rem;">
                    <button class="btn btn-outline" onclick="goHome()" style="width: 100%;">
                        <i class="fas fa-arrow-left"></i> Back to Home
                    </button>
                </div>
            </div>
            
            <!-- LEADERBOARD -->
            <div class="leaderboard" id="leaderboard">
                <h2 class="panel-title"><i class="fas fa-trophy"></i> Top Performers</h2>
                
                <table class="leaderboard-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Student</th>
                            <th>Class</th>
                            <th>Score</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboardBody">
                        <!-- Leaderboard data will be loaded here -->
                    </tbody>
                </table>
                
                <div style="margin-top: 2rem;">
                    <button class="btn btn-outline" onclick="goHome()" style="width: 100%;">
                        <i class="fas fa-arrow-left"></i> Back to Home
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- NOTIFICATION -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">Notification message</span>
    </div>
    
    <!-- MODAL -->
    <div class="modal" id="modal">
        <div class="modal-content" id="modalContent">
            <!-- Modal content will be loaded here -->
        </div>
    </div>

    <script>
        // ==============================
        // COMPREHENSIVE QUESTION BANK
        // ==============================
        const questionBank = {
            "Basic 4": {
                "Mathematics": [
                    { q: "What is 25 + 37?", options: ["52", "62", "72", "42"], ans: 1, explanation: "25 + 37 = 62" },
                    { q: "How many sides does a triangle have?", options: ["2", "3", "4", "5"], ans: 1, explanation: "A triangle has 3 sides" },
                    { q: "What is 15 √ó 4?", options: ["40", "50", "60", "70"], ans: 2, explanation: "15 √ó 4 = 60" },
                    { q: "Subtract 48 from 100", options: ["42", "52", "48", "58"], ans: 1, explanation: "100 - 48 = 52" },
                    { q: "How many minutes are in an hour?", options: ["50", "60", "70", "80"], ans: 1, explanation: "1 hour = 60 minutes" },
                    { q: "What is ¬º of 20?", options: ["4", "5", "6", "7"], ans: 1, explanation: "20 √∑ 4 = 5" },
                    { q: "How many days are in a week?", options: ["5", "6", "7", "8"], ans: 2, explanation: "There are 7 days in a week" },
                    { q: "What is 12 √ó 12?", options: ["124", "134", "144", "154"], ans: 2, explanation: "12 √ó 12 = 144" },
                    { q: "Add: 125 + 275", options: ["300", "350", "400", "450"], ans: 2, explanation: "125 + 275 = 400" },
                    { q: "What is half of 100?", options: ["25", "50", "75", "100"], ans: 1, explanation: "100 √∑ 2 = 50" },
                    { q: "How many centimeters in a meter?", options: ["10", "100", "1000", "50"], ans: 1, explanation: "1 meter = 100 cm" },
                    { q: "What is 7 √ó 8?", options: ["48", "56", "64", "72"], ans: 1, explanation: "7 √ó 8 = 56" },
                    { q: "Subtract: 500 - 275", options: ["225", "235", "245", "255"], ans: 0, explanation: "500 - 275 = 225" },
                    { q: "What is ‚Öì of 30?", options: ["5", "10", "15", "20"], ans: 1, explanation: "30 √∑ 3 = 10" },
                    { q: "How many months in a year?", options: ["10", "11", "12", "13"], ans: 2, explanation: "12 months in a year" },
                    { q: "What is 45 √∑ 5?", options: ["5", "7", "9", "11"], ans: 2, explanation: "45 √∑ 5 = 9" },
                    { q: "Add: 333 + 667", options: ["900", "1000", "1100", "1200"], ans: 1, explanation: "333 + 667 = 1000" },
                    { q: "What is ¬º of 100?", options: ["20", "25", "30", "35"], ans: 1, explanation: "100 √∑ 4 = 25" },
                    { q: "How many sides has a square?", options: ["3", "4", "5", "6"], ans: 1, explanation: "A square has 4 equal sides" },
                    { q: "What is 8 √ó 9?", options: ["64", "72", "81", "90"], ans: 1, explanation: "8 √ó 9 = 72" },
                    { q: "Subtract: 1000 - 475", options: ["425", "525", "625", "725"], ans: 1, explanation: "1000 - 475 = 525" },
                    { q: "What is ¬Ω of 60?", options: ["20", "30", "40", "50"], ans: 1, explanation: "60 √∑ 2 = 30" },
                    { q: "How many hours in a day?", options: ["12", "24", "36", "48"], ans: 1, explanation: "24 hours in a day" },
                    { q: "What is 11 √ó 11?", options: ["111", "121", "131", "141"], ans: 1, explanation: "11 √ó 11 = 121" },
                    { q: "Add: 789 + 211", options: ["900", "1000", "1100", "1200"], ans: 1, explanation: "789 + 211 = 1000" },
                    { q: "What is ¬æ of 20?", options: ["5", "10", "15", "20"], ans: 2, explanation: "20 √∑ 4 √ó 3 = 15" },
                    { q: "How many minutes in 2 hours?", options: ["60", "90", "120", "150"], ans: 2, explanation: "2 √ó 60 = 120 minutes" },
                    { q: "What is 56 √∑ 7?", options: ["6", "7", "8", "9"], ans: 2, explanation: "56 √∑ 7 = 8" },
                    { q: "Subtract: 850 - 325", options: ["425", "525", "625", "725"], ans: 1, explanation: "850 - 325 = 525" },
                    { q: "What is ‚Öï of 50?", options: ["5", "10", "15", "20"], ans: 1, explanation: "50 √∑ 5 = 10" },
                    { q: "How many weeks in a year?", options: ["48", "50", "52", "54"], ans: 2, explanation: "52 weeks in a year" },
                    { q: "What is 9 √ó 7?", options: ["56", "63", "70", "77"], ans: 1, explanation: "9 √ó 7 = 63" },
                    { q: "Add: 456 + 544", options: ["900", "1000", "1100", "1200"], ans: 1, explanation: "456 + 544 = 1000" },
                    { q: "What is ‚Öî of 30?", options: ["10", "15", "20", "25"], ans: 2, explanation: "30 √∑ 3 √ó 2 = 20" },
                    { q: "How many days in February (non-leap year)?", options: ["28", "29", "30", "31"], ans: 0, explanation: "February has 28 days normally" },
                    { q: "What is 12 √ó 8?", options: ["84", "96", "108", "120"], ans: 1, explanation: "12 √ó 8 = 96" },
                    { q: "Subtract: 999 - 333", options: ["566", "666", "766", "866"], ans: 1, explanation: "999 - 333 = 666" },
                    { q: "What is ¬Ω of 80?", options: ["30", "40", "50", "60"], ans: 1, explanation: "80 √∑ 2 = 40" },
                    { q: "How many centimeters in 2 meters?", options: ["100", "200", "300", "400"], ans: 1, explanation: "2 √ó 100 = 200 cm" },
                    { q: "What is 15 √ó 6?", options: ["75", "80", "85", "90"], ans: 3, explanation: "15 √ó 6 = 90" },
                    { q: "Add: 275 + 725", options: ["900", "1000", "1100", "1200"], ans: 1, explanation: "275 + 725 = 1000" },
                    { q: "What is ‚Öó of 25?", options: ["5", "10", "15", "20"], ans: 2, explanation: "25 √∑ 5 √ó 3 = 15" },
                    { q: "How many seconds in a minute?", options: ["30", "45", "60", "90"], ans: 2, explanation: "60 seconds in a minute" },
                    { q: "What is 13 √ó 4?", options: ["42", "46", "52", "56"], ans: 2, explanation: "13 √ó 4 = 52" },
                    { q: "Subtract: 750 - 250", options: ["400", "450", "500", "550"], ans: 2, explanation: "750 - 250 = 500" },
                    { q: "What is ¬º of 80?", options: ["15", "20", "25", "30"], ans: 1, explanation: "80 √∑ 4 = 20" },
                    { q: "How many months in 2 years?", options: ["18", "20", "22", "24"], ans: 3, explanation: "2 √ó 12 = 24 months" },
                    { q: "What is 16 √ó 5?", options: ["70", "75", "80", "85"], ans: 2, explanation: "16 √ó 5 = 80" },
                    { q: "Add: 399 + 601", options: ["900", "1000", "1100", "1200"], ans: 1, explanation: "399 + 601 = 1000" },
                    { q: "What is ¬æ of 100?", options: ["25", "50", "75", "100"], ans: 2, explanation: "100 √∑ 4 √ó 3 = 75" }
                ],
                "English": [
                    { q: "Which word is a noun?", options: ["Run", "Beautiful", "School", "Quickly"], ans: 2, explanation: "'School' is a naming word (noun)" },
                    { q: "What is the plural of 'child'?", options: ["Childs", "Children", "Childes", "Childrens"], ans: 1, explanation: "The plural of child is children" },
                    { q: "Choose the correct spelling:", options: ["Recieve", "Receive", "Receeve", "Recive"], ans: 1, explanation: "'Receive' is the correct spelling" },
                    { q: "Which is a verb?", options: ["Table", "Happy", "Jump", "Blue"], ans: 2, explanation: "'Jump' is an action word (verb)" },
                    { q: "What is the opposite of 'big'?", options: ["Large", "Small", "Tall", "Huge"], ans: 1, explanation: "The opposite of big is small" },
                    { q: "Which sentence is correct?", options: ["He go to school", "He goes to school", "He going to school", "He gone to school"], ans: 1, explanation: "'He goes to school' is correct" },
                    { q: "What is a synonym for 'happy'?", options: ["Sad", "Joyful", "Angry", "Tired"], ans: 1, explanation: "Joyful means the same as happy" },
                    { q: "Which word is an adjective?", options: ["Run", "Quickly", "Beautiful", "Jump"], ans: 2, explanation: "'Beautiful' describes something (adjective)" },
                    { q: "What is the past tense of 'go'?", options: ["Goed", "Went", "Gone", "Going"], ans: 1, explanation: "The past tense of go is went" },
                    { q: "Which is a pronoun?", options: ["Book", "He", "Run", "Beautiful"], ans: 1, explanation: "'He' is a pronoun" },
                    { q: "What is the plural of 'box'?", options: ["Boxs", "Boxes", "Boxen", "Box"], ans: 1, explanation: "The plural of box is boxes" },
                    { q: "Choose the correct sentence:", options: ["I has a book", "I have a book", "I having a book", "I had a book"], ans: 1, explanation: "'I have a book' is correct" },
                    { q: "What is the opposite of 'day'?", options: ["Morning", "Night", "Evening", "Noon"], ans: 1, explanation: "The opposite of day is night" },
                    { q: "Which word rhymes with 'cat'?", options: ["Dog", "Mat", "Bird", "Fish"], ans: 1, explanation: "'Mat' rhymes with 'cat'" },
                    { q: "What is a synonym for 'begin'?", options: ["End", "Start", "Stop", "Finish"], ans: 1, explanation: "'Start' means the same as 'begin'" },
                    { q: "Which is a proper noun?", options: ["city", "Accra", "river", "school"], ans: 1, explanation: "'Accra' is a specific name (proper noun)" },
                    { q: "What is the past tense of 'eat'?", options: ["Eated", "Ate", "Eaten", "Eating"], ans: 1, explanation: "The past tense of eat is ate" },
                    { q: "Which is a conjunction?", options: ["And", "Run", "Happy", "Quickly"], ans: 0, explanation: "'And' joins words (conjunction)" },
                    { q: "What is the plural of 'tooth'?", options: ["Tooths", "Teeth", "Toothies", "Tooth"], ans: 1, explanation: "The plural of tooth is teeth" },
                    { q: "Choose the correct spelling:", options: ["Wensday", "Wednesday", "Wednsday", "Wendesday"], ans: 1, explanation: "'Wednesday' is correct" },
                    { q: "What is the opposite of 'hot'?", options: ["Warm", "Cold", "Spicy", "Boiling"], ans: 1, explanation: "The opposite of hot is cold" },
                    { q: "Which is an adverb?", options: ["Quick", "Quickly", "Quickness", "Quicken"], ans: 1, explanation: "'Quickly' describes how something is done (adverb)" },
                    { q: "What is the past tense of 'see'?", options: ["Seeed", "Saw", "Seen", "Seeing"], ans: 1, explanation: "The past tense of see is saw" },
                    { q: "Which is a preposition?", options: ["Under", "Jump", "Happy", "Book"], ans: 0, explanation: "'Under' shows position (preposition)" },
                    { q: "What is the plural of 'man'?", options: ["Mans", "Men", "Mens", "Man"], ans: 1, explanation: "The plural of man is men" },
                    { q: "Choose the correct sentence:", options: ["She don't like apples", "She doesn't like apples", "She not like apples", "She no like apples"], ans: 1, explanation: "'She doesn't like apples' is correct" },
                    { q: "What is a synonym for 'big'?", options: ["Small", "Large", "Tiny", "Little"], ans: 1, explanation: "'Large' means the same as 'big'" },
                    { q: "Which is an interjection?", options: ["Wow!", "Run", "Beautiful", "Slowly"], ans: 0, explanation: "'Wow!' expresses emotion (interjection)" },
                    { q: "What is the past tense of 'write'?", options: ["Writed", "Wrote", "Written", "Writing"], ans: 1, explanation: "The past tense of write is wrote" },
                    { q: "Which is a collective noun?", options: ["Team", "Player", "Ball", "Game"], ans: 0, explanation: "'Team' refers to a group (collective noun)" },
                    { q: "What is the plural of 'foot'?", options: ["Foots", "Feet", "Footies", "Foot"], ans: 1, explanation: "The plural of foot is feet" },
                    { q: "Choose the correct spelling:", options: ["Neccessary", "Necessary", "Nessesary", "Nessecary"], ans: 1, explanation: "'Necessary' is correct" },
                    { q: "What is the opposite of 'young'?", options: ["New", "Old", "Small", "Little"], ans: 1, explanation: "The opposite of young is old" },
                    { q: "Which is a helping verb?", options: ["Jump", "Can", "Book", "Happy"], ans: 1, explanation: "'Can' helps main verbs (helping verb)" },
                    { q: "What is the past tense of 'sing'?", options: ["Singed", "Sang", "Sung", "Singing"], ans: 1, explanation: "The past tense of sing is sang" },
                    { q: "Which is a common noun?", options: ["Kofi", "Accra", "Volta River", "city"], ans: 3, explanation: "'city' is a general name (common noun)" },
                    { q: "What is the plural of 'mouse' (animal)?", options: ["Mouses", "Mice", "Mouse", "Mices"], ans: 1, explanation: "The plural of mouse is mice" },
                    { q: "Choose the correct sentence:", options: ["They is happy", "They are happy", "They am happy", "They be happy"], ans: 1, explanation: "'They are happy' is correct" },
                    { q: "What is a synonym for 'fast'?", options: ["Slow", "Quick", "Late", "Tired"], ans: 1, explanation: "'Quick' means the same as 'fast'" },
                    { q: "Which is an article?", options: ["The", "Run", "Beautiful", "Quickly"], ans: 0, explanation: "'The' is an article" },
                    { q: "What is the past tense of 'drink'?", options: ["Drinked", "Drank", "Drunk", "Drinking"], ans: 1, explanation: "The past tense of drink is drank" },
                    { q: "Which is an abstract noun?", options: ["Table", "Happiness", "Book", "School"], ans: 1, explanation: "'Happiness' is an idea (abstract noun)" },
                    { q: "What is the plural of 'knife'?", options: ["Knifes", "Knives", "Knife", "Kniven"], ans: 1, explanation: "The plural of knife is knives" },
                    { q: "Choose the correct spelling:", options: ["Seperate", "Separate", "Separete", "Seperete"], ans: 1, explanation: "'Separate' is correct" },
                    { q: "What is the opposite of 'rich'?", options: ["Wealthy", "Poor", "Full", "Empty"], ans: 1, explanation: "The opposite of rich is poor" },
                    { q: "Which is a possessive pronoun?", options: ["My", "I", "Me", "Myself"], ans: 0, explanation: "'My' shows possession (possessive pronoun)" },
                    { q: "What is the past tense of 'fly'?", options: ["Flyed", "Flew", "Flown", "Flying"], ans: 1, explanation: "The past tense of fly is flew" },
                    { q: "Which is a compound word?", options: ["Football", "Ball", "Foot", "Game"], ans: 0, explanation: "'Football' is made of two words (compound)" },
                    { q: "What is the plural of 'sheep'?", options: ["Sheeps", "Sheep", "Sheepes", "Sheepen"], ans: 1, explanation: "Sheep remains sheep in plural" }
                ],
                "Science": [
                    { q: "Which of these is a living thing?", options: ["Stone", "Plant", "Car", "Table"], ans: 1, explanation: "Plants are living things" },
                    { q: "What do plants need to make food?", options: ["Water", "Sunlight", "Soil", "All of these"], ans: 3, explanation: "Plants need water, sunlight, and soil" },
                    { q: "How many legs does an insect have?", options: ["4", "6", "8", "10"], ans: 1, explanation: "Insects have 6 legs" },
                    { q: "Which sense do we use to see?", options: ["Hearing", "Sight", "Touch", "Taste"], ans: 1, explanation: "We use our eyes to see" },
                    { q: "What is the main source of light for Earth?", options: ["Moon", "Stars", "Sun", "Lamp"], ans: 2, explanation: "The Sun is Earth's main light source" },
                    { q: "Which organ pumps blood?", options: ["Lungs", "Heart", "Brain", "Stomach"], ans: 1, explanation: "The heart pumps blood" },
                    { q: "What do we breathe in?", options: ["Carbon dioxide", "Oxygen", "Nitrogen", "Smoke"], ans: 1, explanation: "We breathe in oxygen" },
                    { q: "Which is a source of water?", options: ["River", "Stone", "Fire", "Air"], ans: 0, explanation: "Rivers are sources of water" },
                    { q: "What season comes after summer?", options: ["Spring", "Winter", "Autumn", "Rainy"], ans: 2, explanation: "Autumn comes after summer" },
                    { q: "Which is a mammal?", options: ["Fish", "Bird", "Human", "Insect"], ans: 2, explanation: "Humans are mammals" },
                    { q: "What is the largest organ in the human body?", options: ["Heart", "Brain", "Skin", "Liver"], ans: 2, explanation: "Skin is the largest organ" },
                    { q: "Which planet do we live on?", options: ["Mars", "Venus", "Earth", "Jupiter"], ans: 2, explanation: "We live on Earth" },
                    { q: "What do plants give off during photosynthesis?", options: ["Carbon dioxide", "Oxygen", "Water", "Soil"], ans: 1, explanation: "Plants release oxygen" },
                    { q: "Which is a non-living thing?", options: ["Tree", "Dog", "Rock", "Bird"], ans: 2, explanation: "Rocks are non-living" },
                    { q: "What is the boiling point of water?", options: ["50¬∞C", "100¬∞C", "150¬∞C", "200¬∞C"], ans: 1, explanation: "Water boils at 100¬∞C" },
                    { q: "Which part of a plant absorbs water?", options: ["Leaves", "Flowers", "Roots", "Stem"], ans: 2, explanation: "Roots absorb water" },
                    { q: "What do we use to hear?", options: ["Eyes", "Ears", "Nose", "Skin"], ans: 1, explanation: "We use ears to hear" },
                    { q: "Which is a reptile?", options: ["Fish", "Snake", "Bird", "Insect"], ans: 1, explanation: "Snakes are reptiles" },
                    { q: "What is the process of water turning to vapor?", options: ["Condensation", "Evaporation", "Freezing", "Melting"], ans: 1, explanation: "Evaporation turns water to vapor" },
                    { q: "Which sense do we use to taste?", options: ["Eyes", "Nose", "Tongue", "Skin"], ans: 2, explanation: "We use our tongue to taste" },
                    { q: "What is the main gas in air?", options: ["Oxygen", "Carbon dioxide", "Nitrogen", "Helium"], ans: 2, explanation: "Nitrogen is the main gas in air" },
                    { q: "Which is a bird?", options: ["Dog", "Cat", "Eagle", "Fish"], ans: 2, explanation: "Eagles are birds" },
                    { q: "What do caterpillars turn into?", options: ["Frogs", "Butterflies", "Birds", "Fish"], ans: 1, explanation: "Caterpillars become butterflies" },
                    { q: "Which is a source of light at night?", options: ["Sun", "Moon", "Clouds", "Mountains"], ans: 1, explanation: "The Moon reflects sunlight at night" },
                    { q: "What do we call baby dogs?", options: ["Kittens", "Puppies", "Cubs", "Chicks"], ans: 1, explanation: "Baby dogs are puppies" },
                    { q: "Which organ helps us breathe?", options: ["Heart", "Lungs", "Brain", "Stomach"], ans: 1, explanation: "Lungs help us breathe" },
                    { q: "What is the process of plants making food?", options: ["Respiration", "Photosynthesis", "Digestion", "Evaporation"], ans: 1, explanation: "Photosynthesis is how plants make food" },
                    { q: "Which is a fish?", options: ["Shark", "Whale", "Dolphin", "Seal"], ans: 0, explanation: "Sharks are fish" },
                    { q: "What do we call the study of plants?", options: ["Zoology", "Biology", "Botany", "Geology"], ans: 2, explanation: "Botany is plant study" },
                    { q: "Which is the largest planet?", options: ["Earth", "Mars", "Jupiter", "Saturn"], ans: 2, explanation: "Jupiter is the largest planet" },
                    { q: "What do we call animals that eat plants only?", options: ["Carnivores", "Herbivores", "Omnivores", "Insectivores"], ans: 1, explanation: "Herbivores eat only plants" },
                    { q: "Which sense do we use to smell?", options: ["Eyes", "Ears", "Nose", "Tongue"], ans: 2, explanation: "We use our nose to smell" },
                    { q: "What is the closest star to Earth?", options: ["Polaris", "Sirius", "Sun", "Betelgeuse"], ans: 2, explanation: "The Sun is the closest star" },
                    { q: "Which is an amphibian?", options: ["Fish", "Frog", "Snake", "Bird"], ans: 1, explanation: "Frogs are amphibians" },
                    { q: "What is the process of water falling as rain?", options: ["Evaporation", "Condensation", "Precipitation", "Collection"], ans: 2, explanation: "Precipitation is rain/snow falling" },
                    { q: "Which is a source of heat?", options: ["Ice", "Fire", "Water", "Air"], ans: 1, explanation: "Fire produces heat" },
                    { q: "What do we call animals that eat meat only?", options: ["Herbivores", "Carnivores", "Omnivores", "Insectivores"], ans: 1, explanation: "Carnivores eat only meat" },
                    { q: "Which part of a plant makes food?", options: ["Roots", "Stem", "Leaves", "Flowers"], ans: 2, explanation: "Leaves make food through photosynthesis" },
                    { q: "What is the Earth's natural satellite?", options: ["Sun", "Mars", "Moon", "Stars"], ans: 2, explanation: "The Moon is Earth's satellite" },
                    { q: "Which is a mammal that lays eggs?", options: ["Dog", "Cat", "Platypus", "Elephant"], ans: 2, explanation: "Platypus is an egg-laying mammal" },
                    { q: "What do we call the study of animals?", options: ["Botany", "Zoology", "Biology", "Geology"], ans: 1, explanation: "Zoology is animal study" },
                    { q: "Which is the smallest planet?", options: ["Earth", "Mars", "Mercury", "Venus"], ans: 2, explanation: "Mercury is the smallest planet" },
                    { q: "What do we call animals that eat plants and meat?", options: ["Herbivores", "Carnivores", "Omnivores", "Insectivores"], ans: 2, explanation: "Omnivores eat both plants and meat" },
                    { q: "Which sense do we use to touch?", options: ["Eyes", "Ears", "Skin", "Nose"], ans: 2, explanation: "We use our skin to touch" },
                    { q: "What is the process of liquid turning to solid?", options: ["Melting", "Freezing", "Evaporation", "Condensation"], ans: 1, explanation: "Freezing turns liquid to solid" },
                    { q: "Which is a source of energy?", options: ["Stone", "Water", "Food", "Air"], ans: 2, explanation: "Food gives us energy" },
                    { q: "What do we call the study of weather?", options: ["Geology", "Meteorology", "Biology", "Astronomy"], ans: 1, explanation: "Meteorology is weather study" },
                    { q: "Which is the hottest planet?", options: ["Earth", "Mars", "Venus", "Mercury"], ans: 2, explanation: "Venus is the hottest planet" },
                    { q: "What do we call baby cats?", options: ["Puppies", "Kittens", "Cubs", "Chicks"], ans: 1, explanation: "Baby cats are kittens" },
                    { q: "Which is a plant that eats insects?", options: ["Rose", "Sunflower", "Venus Flytrap", "Tulip"], ans: 2, explanation: "Venus Flytrap eats insects" },
                    { q: "What is the process of solid turning to liquid?", options: ["Freezing", "Melting", "Evaporation", "Condensation"], ans: 1, explanation: "Melting turns solid to liquid" }
                ]
            },
            "Basic 5": {
                "Mathematics": [
                    { q: "What is 345 + 278?", options: ["513", "623", "633", "723"], ans: 1, explanation: "345 + 278 = 623" },
                    { q: "Multiply: 25 √ó 8", options: ["150", "175", "200", "225"], ans: 2, explanation: "25 √ó 8 = 200" },
                    { q: "What is ¬æ of 100?", options: ["25", "50", "75", "100"], ans: 2, explanation: "100 √∑ 4 √ó 3 = 75" },
                    { q: "Divide: 144 √∑ 12", options: ["10", "11", "12", "13"], ans: 2, explanation: "144 √∑ 12 = 12" },
                    { q: "What is 15% of 200?", options: ["15", "25", "30", "35"], ans: 2, explanation: "200 √ó 0.15 = 30" },
                    { q: "Convert 2.5 to fraction", options: ["2¬Ω", "2¬º", "2¬æ", "2‚Öì"], ans: 0, explanation: "2.5 = 2¬Ω or 5/2" },
                    { q: "What is the perimeter of a square with side 5cm?", options: ["15cm", "20cm", "25cm", "30cm"], ans: 1, explanation: "Perimeter = 4 √ó 5 = 20cm" },
                    { q: "Add: ¬æ + ¬Ω", options: ["1¬º", "1¬Ω", "1¬æ", "2"], ans: 0, explanation: "¬æ + ¬Ω = ¬æ + 2/4 = 5/4 = 1¬º" },
                    { q: "What is 12.5 √ó 4?", options: ["45", "50", "55", "60"], ans: 1, explanation: "12.5 √ó 4 = 50" },
                    { q: "Subtract: 1000 - 387", options: ["513", "613", "713", "813"], ans: 1, explanation: "1000 - 387 = 613" }
                    // Add 40 more math questions for Basic 5
                ],
                "English": [
                    { q: "Identify the adverb: 'She sings beautifully'", options: ["She", "Sings", "Beautifully", "None"], ans: 2, explanation: "'Beautifully' describes how she sings" },
                    { q: "What is the comparative form of 'good'?", options: ["Gooder", "Better", "Best", "More good"], ans: 1, explanation: "Better is comparative of good" },
                    { q: "Change to passive: 'The boy kicked the ball'", options: ["The ball kicked the boy", "The ball was kicked by the boy", "The boy was kicked by the ball", "The ball is kicked"], ans: 1, explanation: "Passive voice: The ball was kicked by the boy" },
                    { q: "Which is a compound sentence?", options: ["I like apples", "I like apples and oranges", "Apples are fruits", "Eating apples"], ans: 1, explanation: "Uses 'and' to join two ideas" },
                    { q: "What is the superlative of 'far'?", options: ["Farther", "Farthest", "More far", "Most far"], ans: 1, explanation: "Farthest is superlative of far" }
                    // Add 45 more English questions for Basic 5
                ],
                "Science": [
                    { q: "What is the chemical symbol for water?", options: ["O‚ÇÇ", "H‚ÇÇO", "CO‚ÇÇ", "NaCl"], ans: 1, explanation: "Water is H‚ÇÇO" },
                    { q: "Which planet is known as the Red Planet?", options: ["Venus", "Mars", "Jupiter", "Saturn"], ans: 1, explanation: "Mars is the Red Planet" },
                    { q: "What is the main function of roots?", options: ["Make food", "Absorb water", "Attract insects", "Produce seeds"], ans: 1, explanation: "Roots absorb water and nutrients" },
                    { q: "Which gas do plants take in during photosynthesis?", options: ["Oxygen", "Carbon dioxide", "Nitrogen", "Hydrogen"], ans: 1, explanation: "Plants take in CO‚ÇÇ for photosynthesis" },
                    { q: "What is the boiling point of water in Celsius?", options: ["50¬∞C", "100¬∞C", "150¬∞C", "200¬∞C"], ans: 1, explanation: "Water boils at 100¬∞C" }
                    // Add 45 more Science questions for Basic 5
                ]
            },
            "Basic 6": {
                "Mathematics": [
                    { q: "Solve: 2(x + 3) = 16", options: ["x = 5", "x = 6", "x = 7", "x = 8"], ans: 0, explanation: "2x + 6 = 16, 2x = 10, x = 5" },
                    { q: "What is the area of a triangle with base 10cm and height 6cm?", options: ["30cm¬≤", "40cm¬≤", "50cm¬≤", "60cm¬≤"], ans: 0, explanation: "Area = ¬Ω √ó 10 √ó 6 = 30cm¬≤" },
                    { q: "Convert ¬æ to percentage", options: ["25%", "50%", "75%", "100%"], ans: 2, explanation: "¬æ = 0.75 = 75%" },
                    { q: "What is the LCM of 8 and 12?", options: ["12", "24", "36", "48"], ans: 1, explanation: "LCM of 8 and 12 is 24" },
                    { q: "Simplify: ‚Öî + ¬º", options: ["7/12", "8/12", "9/12", "11/12"], ans: 3, explanation: "‚Öî + ¬º = 8/12 + 3/12 = 11/12" }
                    // Add 45 more math questions for Basic 6
                ],
                "English": [
                    { q: "What is the past participle of 'write'?", options: ["Writed", "Wrote", "Written", "Writing"], ans: 2, explanation: "Written is the past participle" },
                    { q: "Identify the prepositional phrase: 'The book on the table is mine'", options: ["The book", "on the table", "is mine", "the table"], ans: 1, explanation: "'on the table' is prepositional phrase" },
                    { q: "What is the antonym of 'generous'?", options: ["Kind", "Stingy", "Helpful", "Friendly"], ans: 1, explanation: "Stingy means not generous" },
                    { q: "Which is a complex sentence?", options: ["I went home", "I was tired so I went home", "Because I was tired, I went home", "Home I went"], ans: 2, explanation: "Has dependent and independent clauses" },
                    { q: "What is the plural of 'analysis'?", options: ["Analysiss", "Analyses", "Analysises", "Analysies"], ans: 1, explanation: "Plural of analysis is analyses" }
                    // Add 45 more English questions for Basic 6
                ],
                "Science": [
                    { q: "What is the force that pulls objects to Earth?", options: ["Magnetism", "Gravity", "Friction", "Electricity"], ans: 1, explanation: "Gravity pulls objects downward" },
                    { q: "Which part of the plant makes seeds?", options: ["Roots", "Stem", "Flower", "Leaves"], ans: 2, explanation: "Flowers produce seeds" },
                    { q: "What is the closest planet to the Sun?", options: ["Venus", "Earth", "Mercury", "Mars"], ans: 2, explanation: "Mercury is closest to the Sun" },
                    { q: "Which gas makes up most of air?", options: ["Oxygen", "Carbon dioxide", "Nitrogen", "Hydrogen"], ans: 2, explanation: "Air is 78% nitrogen" },
                    { q: "What do we call the study of earthquakes?", options: ["Meteorology", "Geology", "Seismology", "Volcanology"], ans: 2, explanation: "Seismology is earthquake study" }
                    // Add 45 more Science questions for Basic 6
                ]
            },
            "JHS 1": {
                "Mathematics": [
                    { q: "What is the value of œÄ (pi) to 2 decimal places?", options: ["3.12", "3.14", "3.16", "3.18"], ans: 1, explanation: "œÄ ‚âà 3.14" },
                    { q: "Solve: 3x - 7 = 14", options: ["x = 5", "x = 6", "x = 7", "x = 8"], ans: 2, explanation: "3x = 21, x = 7" },
                    { q: "What is 25¬≤?", options: ["500", "525", "575", "625"], ans: 3, explanation: "25 √ó 25 = 625" },
                    { q: "Convert 0.75 to fraction", options: ["¬æ", "¬º", "¬Ω", "‚Öì"], ans: 0, explanation: "0.75 = ¬æ" },
                    { q: "What is the square root of 144?", options: ["10", "11", "12", "13"], ans: 2, explanation: "12 √ó 12 = 144" }
                    // Add 45 more math questions for JHS 1
                ],
                "English": [
                    { q: "What is the direct object in: 'She bought a book'?", options: ["She", "bought", "a", "book"], ans: 3, explanation: "'Book' receives the action" },
                    { q: "Change to indirect speech: 'I am happy' she said", options: ["She said she is happy", "She said she was happy", "She said she will be happy", "She says she is happy"], ans: 1, explanation: "Present becomes past in indirect speech" },
                    { q: "Which is a transitive verb?", options: ["Sleep", "Arrive", "Buy", "Exist"], ans: 2, explanation: "'Buy' requires an object" },
                    { q: "What is the plural of 'criterion'?", options: ["Criterions", "Criteria", "Criterion", "Criterias"], ans: 1, explanation: "Plural of criterion is criteria" },
                    { q: "Identify the subordinating conjunction: 'Although it rained, we played'", options: ["Although", "it", "rained", "we"], ans: 0, explanation: "'Although' introduces dependent clause" }
                    // Add 45 more English questions for JHS 1
                ],
                "Science": [
                    { q: "What is the chemical symbol for gold?", options: ["Go", "Gd", "Au", "Ag"], ans: 2, explanation: "Au is gold (from Latin aurum)" },
                    { q: "Which is the largest organ in human body?", options: ["Heart", "Brain", "Skin", "Liver"], ans: 2, explanation: "Skin is the largest organ" },
                    { q: "What is the SI unit of force?", options: ["Joule", "Newton", "Watt", "Pascal"], ans: 1, explanation: "Force is measured in Newtons" },
                    { q: "Which blood type is universal donor?", options: ["A", "B", "AB", "O"], ans: 3, explanation: "Type O negative is universal donor" },
                    { q: "What is the main component of natural gas?", options: ["Propane", "Butane", "Methane", "Ethane"], ans: 2, explanation: "Natural gas is mostly methane" }
                    // Add 45 more Science questions for JHS 1
                ]
            },
            "JHS 2": {
                "Mathematics": [
                    { q: "Solve quadratic: x¬≤ - 5x + 6 = 0", options: ["x = 2,3", "x = 1,6", "x = -2,-3", "x = -1,-6"], ans: 0, explanation: "(x-2)(x-3)=0, so x=2 or x=3" },
                    { q: "What is sin 30¬∞?", options: ["0", "¬Ω", "‚àö3/2", "1"], ans: 1, explanation: "sin 30¬∞ = ¬Ω" },
                    { q: "Calculate: log‚ÇÅ‚ÇÄ100", options: ["1", "2", "3", "4"], ans: 1, explanation: "10¬≤ = 100, so log‚ÇÅ‚ÇÄ100 = 2" },
                    { q: "What is the volume of a cylinder with radius 7cm, height 10cm?", options: ["490œÄ cm¬≥", "500œÄ cm¬≥", "1540œÄ cm¬≥", "154œÄ cm¬≥"], ans: 0, explanation: "V = œÄr¬≤h = œÄ√ó49√ó10 = 490œÄ cm¬≥" },
                    { q: "Find the slope: y = 2x + 3", options: ["2", "3", "¬Ω", "-2"], ans: 0, explanation: "Slope is coefficient of x = 2" }
                    // Add 45 more math questions for JHS 2
                ],
                "English": [
                    { q: "Identify the gerund: 'Swimming is good exercise'", options: ["Swimming", "is", "good", "exercise"], ans: 0, explanation: "'Swimming' acts as noun (gerund)" },
                    { q: "What is the conditional tense of: 'If I were you, I would go'", options: ["Zero conditional", "First conditional", "Second conditional", "Third conditional"], ans: 2, explanation: "Second conditional for unreal present" },
                    { q: "Which is a non-defining relative clause?", options: ["The man who called is my brother", "My brother, who called, is a doctor", "This is the book that I bought", "The car that crashed was red"], ans: 1, explanation: "Gives extra info with commas" },
                    { q: "What is the etymology of 'telephone'?", options: ["Greek tele=far, phone=sound", "Latin tele=far, phone=call", "Greek tele=voice, phone=far", "Latin tele=sound, phone=distance"], ans: 0, explanation: "From Greek: tele (far) + phone (sound)" },
                    { q: "Identify the dangling modifier: 'Running to school, the bell rang'", options: ["Running to school", "the bell", "rang", "No error"], ans: 0, explanation: "Modifier doesn't logically modify subject" }
                    // Add 45 more English questions for JHS 2
                ],
                "Science": [
                    { q: "What is Newton's First Law?", options: ["F=ma", "Action-reaction", "Inertia", "Universal gravitation"], ans: 2, explanation: "First Law is Law of Inertia" },
                    { q: "Which blood vessels carry blood to heart?", options: ["Arteries", "Veins", "Capillaries", "Aorta"], ans: 1, explanation: "Veins carry blood to heart" },
                    { q: "What is the pH of pure water?", options: ["0", "7", "14", "1"], ans: 1, explanation: "Pure water is neutral pH 7" },
                    { q: "Which planet has rings?", options: ["Earth", "Mars", "Saturn", "Venus"], ans: 2, explanation: "Saturn has prominent rings" },
                    { q: "What is the speed of light?", options: ["300,000 km/s", "150,000 km/s", "450,000 km/s", "600,000 km/s"], ans: 0, explanation: "Light speed ‚âà 300,000 km/s" }
                    // Add 45 more Science questions for JHS 2
                ]
            },
            "JHS 3": {
                "Mathematics": [
                    { q: "Differentiate: f(x) = x¬≥", options: ["3x¬≤", "3x", "x¬≤", "2x¬≤"], ans: 0, explanation: "d/dx(x¬≥) = 3x¬≤" },
                    { q: "Solve: 2À£ = 16", options: ["2", "3", "4", "5"], ans: 2, explanation: "2‚Å¥ = 16, so x = 4" },
                    { q: "What is the probability of getting heads in coin toss?", options: ["0", "¬º", "¬Ω", "1"], ans: 2, explanation: "Probability = 1/2" },
                    { q: "Calculate: ‚à´2x dx", options: ["x¬≤", "x¬≤ + C", "2x¬≤", "2x¬≤ + C"], ans: 1, explanation: "‚à´2x dx = x¬≤ + C" },
                    { q: "What is cos 60¬∞?", options: ["0", "¬Ω", "‚àö3/2", "1"], ans: 1, explanation: "cos 60¬∞ = ¬Ω" }
                    // Add 45 more math questions for JHS 3
                ],
                "English": [
                    { q: "Identify the synecdoche: 'All hands on deck'", options: ["All", "hands", "on", "deck"], ans: 1, explanation: "'Hands' represents sailors" },
                    { q: "What is the subjunctive mood?", options: ["Expresses fact", "Expresses command", "Expresses wish", "Expresses question"], ans: 2, explanation: "Subjunctive expresses wishes/hypotheticals" },
                    { q: "Which is an example of litotes?", options: ["Not bad", "Very good", "Excellent", "Terrible"], ans: 0, explanation: "Litotes uses negative to express positive" },
                    { q: "What is metonymy?", options: ["Like simile", "Substituting related term", "Exaggeration", "Contradiction"], ans: 1, explanation: "Metonymy substitutes related term" },
                    { q: "Identify chiasmus: 'Ask not what your country can do for you...'", options: ["Ask not", "what your country", "can do for you", "what you can do for your country"], ans: 3, explanation: "Reversal of structure in second part" }
                    // Add 45 more English questions for JHS 3
                ],
                "Science": [
                    { q: "What is DNA full form?", options: ["Deoxyribonucleic Acid", "Deoxyribonuclear Acid", "Deoxyribonitric Acid", "Deoxyribonuclear Atom"], ans: 0, explanation: "DNA = Deoxyribonucleic Acid" },
                    { q: "Which is a renewable energy source?", options: ["Coal", "Natural gas", "Solar", "Petroleum"], ans: 2, explanation: "Solar energy is renewable" },
                    { q: "What is the atomic number of carbon?", options: ["4", "6", "8", "12"], ans: 1, explanation: "Carbon has atomic number 6" },
                    { q: "Which is not a greenhouse gas?", options: ["CO‚ÇÇ", "Methane", "Oxygen", "Water vapor"], ans: 2, explanation: "Oxygen is not a greenhouse gas" },
                    { q: "What is the main function of mitochondria?", options: ["Protein synthesis", "Energy production", "Waste removal", "Cell division"], ans: 1, explanation: "Mitochondria produce energy (ATP)" }
                    // Add 45 more Science questions for JHS 3
                ]
            }
        };

        // ==============================
        // GLOBAL VARIABLES
        // ==============================
        let currentStudent = {
            name: "",
            class: "",
            subject: "",
            score: 0,
            startTime: null,
            endTime: null
        };
        
        let currentQuiz = [];
        let currentQuestionIndex = 0;
        let selectedAnswer = null;
        let timerInterval = null;
        let timeLeft = 30;
        let totalQuestions = 10; // Default number of questions
        
        // ==============================
        // INITIALIZATION
        // ==============================
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            loadLeaderboard();
        });
        
        // ==============================
        // CLASS SELECTION
        // ==============================
        function selectClass(className) {
            // Remove active class from all buttons
            document.querySelectorAll('.class-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            currentStudent.class = className;
            
            // Show subject selection
            document.getElementById('subjectSelection').style.display = 'block';
            
            // Update subject buttons based on class
            updateSubjectSelection(className);
        }
        
        function updateSubjectSelection(className) {
            const subjects = ['Mathematics', 'English', 'Science'];
            document.querySelectorAll('.subject-btn').forEach((btn, index) => {
                btn.innerHTML = `
                    <i class="${getSubjectIcon(subjects[index])} subject-icon"></i>
                    <span>${subjects[index]}</span>
                `;
            });
        }
        
        function getSubjectIcon(subject) {
            switch(subject) {
                case 'Mathematics': return 'fas fa-calculator';
                case 'English': return 'fas fa-language';
                case 'Science': return 'fas fa-flask';
                default: return 'fas fa-book';
            }
        }
        
        // ==============================
        // SUBJECT SELECTION
        // ==============================
        function selectSubject(subjectName) {
            // Remove active class from all buttons
            document.querySelectorAll('.subject-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.closest('.subject-btn').classList.add('active');
            
            currentStudent.subject = subjectName;
        }
        
        // ==============================
        // START QUIZ
        // ==============================
        function startQuiz() {
            // Validate inputs
            const studentName = document.getElementById('studentName').value.trim();
            if (!studentName) {
                showNotification('Please enter your name', 'error');
                return;
            }
            
            if (!currentStudent.class) {
                showNotification('Please select your class', 'error');
                return;
            }
            
            if (!currentStudent.subject) {
                showNotification('Please select a subject', 'error');
                return;
            }
            
            // Set student info
            currentStudent.name = studentName;
            currentStudent.score = 0;
            currentStudent.startTime = new Date();
            
            // Get questions for selected class and subject
            if (questionBank[currentStudent.class] && questionBank[currentStudent.class][currentStudent.subject]) {
                // Get all questions for the subject
                const allQuestions = questionBank[currentStudent.class][currentStudent.subject];
                
                // Shuffle and select first 'totalQuestions' questions
                currentQuiz = shuffleArray([...allQuestions]).slice(0, totalQuestions);
                
                // Reset quiz state
                currentQuestionIndex = 0;
                selectedAnswer = null;
                
                // Show quiz area
                document.getElementById('studentPanel').style.display = 'none';
                document.getElementById('quizArea').style.display = 'block';
                document.getElementById('resultScreen').style.display = 'none';
                
                // Update quiz title
                document.getElementById('quizTitle').textContent = 
                    `${currentStudent.subject} - ${currentStudent.class}`;
                document.getElementById('quizSubtitle').textContent = 
                    `${totalQuestions} Questions ‚Ä¢ Time: 30s each`;
                
                // Start first question
                loadQuestion();
                startTimer();
            } else {
                showNotification('Questions not available for this selection', 'error');
            }
        }
        
        // ==============================
        // LOAD QUESTION
        // ==============================
        function loadQuestion() {
            if (currentQuestionIndex >= currentQuiz.length) {
                showResults();
                return;
            }
            
            const question = currentQuiz[currentQuestionIndex];
            
            // Reset selection
            selectedAnswer = null;
            
            // Update progress
            const progress = ((currentQuestionIndex) / currentQuiz.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = currentQuiz.length;
            document.getElementById('currentScore').textContent = currentStudent.score;
            
            // Reset timer
            resetTimer();
            
            // Create question HTML
            const optionsHTML = question.options.map((option, index) => `
                <button class="option-btn" onclick="selectOption(${index})">
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div>${option}</div>
                </button>
            `).join('');
            
            document.getElementById('questionContainer').innerHTML = `
                <div class="question-card">
                    <div class="question-text">${question.q}</div>
                    <div class="options-grid">
                        ${optionsHTML}
                    </div>
                    <div class="feedback-box" id="feedbackBox" style="display: none;">
                        <div class="feedback-title" id="feedbackTitle">
                            <i class="fas fa-check-circle"></i>
                            <span>Correct!</span>
                        </div>
                        <p id="feedbackText">Explanation will appear here</p>
                    </div>
                </div>
            `;
            
            // Update navigation buttons
            document.getElementById('prevBtn').style.display = currentQuestionIndex > 0 ? 'block' : 'none';
            document.getElementById('nextBtn').style.display = 'block';
        }
        
        // ==============================
        // SELECT OPTION
        // ==============================
        function selectOption(optionIndex) {
            if (selectedAnswer !== null) return; // Already answered
            
            selectedAnswer = optionIndex;
            
            // Add selected class to chosen option
            const optionButtons = document.querySelectorAll('.option-btn');
            optionButtons.forEach(btn => btn.classList.remove('selected'));
            optionButtons[optionIndex].classList.add('selected');
            
            // Check answer
            const question = currentQuiz[currentQuestionIndex];
            const isCorrect = optionIndex === question.ans;
            
            // Update score
            if (isCorrect) {
                currentStudent.score++;
                document.getElementById('currentScore').textContent = currentStudent.score;
            }
            
            // Show feedback
            const feedbackBox = document.getElementById('feedbackBox');
            const feedbackTitle = document.getElementById('feedbackTitle');
            const feedbackText = document.getElementById('feedbackText');
            
            if (isCorrect) {
                feedbackTitle.innerHTML = '<i class="fas fa-check-circle"></i><span>Correct!</span>';
                feedbackTitle.className = 'feedback-title correct';
                feedbackBox.className = 'feedback-box correct';
            } else {
                feedbackTitle.innerHTML = '<i class="fas fa-times-circle"></i><span>Incorrect</span>';
                feedbackTitle.className = 'feedback-title wrong';
                feedbackBox.className = 'feedback-box wrong';
            }
            
            feedbackText.textContent = question.explanation;
            feedbackBox.style.display = 'block';
            
            // Highlight correct answer
            optionButtons[question.ans].classList.add('correct');
            if (!isCorrect) {
                optionButtons[optionIndex].classList.add('wrong');
            }
            
            // Disable all options
            optionButtons.forEach(btn => {
                btn.style.pointerEvents = 'none';
            });
            
            // Auto-advance after 3 seconds
            setTimeout(() => {
                nextQuestion();
            }, 3000);
        }
        
        // ==============================
        // TIMER FUNCTIONS
        // ==============================
        function startTimer() {
            resetTimer();
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timeLeft').textContent = timeLeft;
                
                if (timeLeft <= 10) {
                    document.getElementById('timer').classList.add('warning');
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timeUp();
                }
            }, 1000);
        }
        
        function resetTimer() {
            clearInterval(timerInterval);
            timeLeft = 30;
            document.getElementById('timeLeft').textContent = timeLeft;
            document.getElementById('timer').classList.remove('warning');
        }
        
        function timeUp() {
            if (selectedAnswer === null) {
                // Auto-select no answer
                const feedbackBox = document.getElementById('feedbackBox');
                const feedbackTitle = document.getElementById('feedbackTitle');
                const feedbackText = document.getElementById('feedbackText');
                
                feedbackTitle.innerHTML = '<i class="fas fa-clock"></i><span>Time\'s Up!</span>';
                feedbackTitle.className = 'feedback-title wrong';
                feedbackBox.className = 'feedback-box wrong';
                feedbackText.textContent = 'You ran out of time! The correct answer was highlighted.';
                feedbackBox.style.display = 'block';
                
                // Highlight correct answer
                const question = currentQuiz[currentQuestionIndex];
                const optionButtons = document.querySelectorAll('.option-btn');
                optionButtons[question.ans].classList.add('correct');
                
                // Disable all options
                optionButtons.forEach(btn => {
                    btn.style.pointerEvents = 'none';
                });
                
                // Auto-advance after 2 seconds
                setTimeout(() => {
                    nextQuestion();
                }, 2000);
            }
        }
        
        // ==============================
        // NAVIGATION
        // ==============================
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }
        
        // ==============================
        // SHOW RESULTS
        // ==============================
        function showResults() {
            currentStudent.endTime = new Date();
            const timeTaken = Math.floor((currentStudent.endTime - currentStudent.startTime) / 1000);
            
            // Hide quiz area, show results
            document.getElementById('quizArea').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            
            // Calculate percentage
            const percentage = Math.round((currentStudent.score / currentQuiz.length) * 100);
            
            // Update result display
            document.getElementById('finalScore').textContent = 
                `${currentStudent.score}/${currentQuiz.length}`;
            document.getElementById('correctAnswers').textContent = currentStudent.score;
            document.getElementById('percentageScore').textContent = `${percentage}%`;
            document.getElementById('timeTaken').textContent = `${timeTaken}s`;
            
            // Save result to localStorage
            saveResult(percentage, timeTaken);
            
            // Update leaderboard
            updateLeaderboard();
            
            // Show appropriate message based on score
            let message = '';
            let icon = 'üèÜ';
            
            if (percentage >= 90) {
                message = 'Outstanding! Perfect score!';
                icon = 'üéØ';
            } else if (percentage >= 75) {
                message = 'Excellent work!';
                icon = 'üåü';
            } else if (percentage >= 60) {
                message = 'Good job!';
                icon = 'üëç';
            } else if (percentage >= 50) {
                message = 'You passed! Keep practicing.';
                icon = 'üìö';
            } else {
                message = 'Keep studying and try again!';
                icon = 'üí™';
            }
            
            document.querySelector('.result-icon').textContent = icon;
            document.querySelector('.result-screen p').textContent = message;
        }
        
        // ==============================
        // DATA STORAGE
        // ==============================
        function saveResult(percentage, timeTaken) {
            // Get existing results or initialize
            const results = JSON.parse(localStorage.getItem('quizResults')) || [];
            
            // Add new result
            results.push({
                name: currentStudent.name,
                class: currentStudent.class,
                subject: currentStudent.subject,
                score: currentStudent.score,
                total: currentQuiz.length,
                percentage: percentage,
                time: timeTaken,
                date: new Date().toISOString()
            });
            
            // Keep only last 100 results
            if (results.length > 100) {
                results.shift();
            }
            
            // Save to localStorage
            localStorage.setItem('quizResults', JSON.stringify(results));
            
            // Update stats
            updateStats();
        }
        
        function updateStats() {
            const results = JSON.parse(localStorage.getItem('quizResults')) || [];
            const students = [...new Set(results.map(r => r.name))];
            
            document.getElementById('totalStudents').textContent = students.length;
            document.getElementById('totalQuizzes').textContent = results.length;
            document.getElementById('totalStudentsDB').textContent = students.length;
            document.getElementById('totalQuizzesDB').textContent = results.length;
            document.getElementById('totalQuestionsDB').textContent = 
                Object.values(questionBank).reduce((total, classData) => {
                    return total + Object.values(classData).reduce((subTotal, subjectQs) => {
                        return subTotal + subjectQs.length;
                    }, 0);
                }, 0);
        }
        
        // ==============================
        // LEADERBOARD
        // ==============================
        function loadLeaderboard() {
            const results = JSON.parse(localStorage.getItem('quizResults')) || [];
            
            // Sort by percentage (highest first), then by time (fastest first)
            const sorted = [...results].sort((a, b) => {
                if (b.percentage !== a.percentage) {
                    return b.percentage - a.percentage;
                }
                return a.time - b.time;
            }).slice(0, 10); // Top 10
            
            const tbody = document.getElementById('leaderboardBody');
            tbody.innerHTML = '';
            
            sorted.forEach((result, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="rank-${index + 1}">${index + 1}</td>
                    <td>${result.name}</td>
                    <td>${result.class}</td>
                    <td>${result.score}/${result.total} (${result.percentage}%)</td>
                    <td>${new Date(result.date).toLocaleDateString()}</td>
                `;
                tbody.appendChild(row);
            });
        }
        
        function updateLeaderboard() {
            loadLeaderboard();
        }
        
        function showLeaderboard() {
            document.getElementById('studentPanel').style.display = 'none';
            document.getElementById('quizArea').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('leaderboard').style.display = 'block';
            
            loadLeaderboard();
        }
        
        // ==============================
        // ADMIN PANEL
        // ==============================
        function showAdminPanel() {
            const password = prompt('Enter admin password:');
            if (password === 'wexford123') { // Default password
                document.getElementById('studentPanel').style.display = 'none';
                document.getElementById('quizArea').style.display = 'none';
                document.getElementById('resultScreen').style.display = 'none';
                document.getElementById('leaderboard').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                
                updateStats();
            } else {
                showNotification('Incorrect password', 'error');
            }
        }
        
        function addQuestions() {
            showNotification('Question editor will be available in next update', 'error');
        }
        
        function manageStudents() {
            const results = JSON.parse(localStorage.getItem('quizResults')) || [];
            const students = [...new Set(results.map(r => r.name))];
            
            alert(`Total Students: ${students.length}\n\nStudents:\n${students.join('\n')}`);
        }
        
        function exportData() {
            const results = JSON.parse(localStorage.getItem('quizResults')) || [];
            const dataStr = JSON.stringify(results, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `wexford_quiz_data_${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification('Data exported successfully');
        }
        
        function resetSystem() {
            if (confirm('Are you sure? This will delete all quiz results.')) {
                localStorage.removeItem('quizResults');
                showNotification('All data has been reset');
                updateStats();
                loadLeaderboard();
            }
        }
        
        // ==============================
        // UTILITY FUNCTIONS
        // ==============================
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notificationText');
            
            text.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'flex';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        function goHome() {
            document.getElementById('studentPanel').style.display = 'block';
            document.getElementById('quizArea').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('leaderboard').style.display = 'none';
            
            // Reset selection
            document.querySelectorAll('.class-btn, .subject-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById('subjectSelection').style.display = 'none';
        }
        
        function restartQuiz() {
            currentStudent.score = 0;
            currentStudent.startTime = new Date();
            currentQuestionIndex = 0;
            selectedAnswer = null;
            
            // Shuffle questions again
            const allQuestions = questionBank[currentStudent.class][currentStudent.subject];
            currentQuiz = shuffleArray([...allQuestions]).slice(0, totalQuestions);
            
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('quizArea').style.display = 'block';
            
            loadQuestion();
            startTimer();
        }
        
        function shareResult() {
            const percentage = Math.round((currentStudent.score / currentQuiz.length) * 100);
            const message = `I scored ${currentStudent.score}/${currentQuiz.length} (${percentage}%) on the Wexford ${currentStudent.subject} quiz for ${currentStudent.class}! üéì`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My Quiz Result',
                    text: message,
                    url: window.location.href
                });
            } else {
                // Fallback: Copy to clipboard
                navigator.clipboard.writeText(message).then(() => {
                    showNotification('Result copied to clipboard!');
                });
            }
        }
    </script>
</body>
</html>
